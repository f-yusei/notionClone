{"ast":null,"code":"var _jsxFileName = \"/Users/yusei/Desktop/dev/reactProject/notion-clone/client/src/pages/Memo.jsx\",\n  _s = $RefreshSig$();\nimport { Box, IconButton, TextField, alpha } from '@mui/material';\nimport React, { useEffect, useState } from 'react';\nimport StarBorderOutlinedIcon from \"@mui/icons-material/StarBorderOutlined\";\nimport DeleteOutlinedIcon from \"@mui/icons-material/DeleteOutlined\";\nimport { useNavigate, useParams } from 'react-router-dom';\nimport memoApi from '../api/memoApi';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setMemo } from '../redux/features/memoSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Memo() {\n  _s();\n  const {\n    memoId\n  } = useParams();\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const memos = useSelector(state => state.memo.value);\n  useEffect(() => {\n    const getMemo = async () => {\n      try {\n        const res = await memoApi.getOne(memoId);\n        setTitle(res.title);\n        setDescription(res.description);\n      } catch (err) {\n        alert(err);\n      }\n    };\n    getMemo();\n  }, [memoId]);\n  let timer;\n  const timeout = 500;\n  const updateTitle = async e => {\n    clearTimeout(timer);\n    const newTitle = e.target.value;\n    setTitle(newTitle);\n    timer = setTimeout(async () => {\n      try {\n        await memoApi.update(memoId, {\n          title: newTitle\n        });\n      } catch (err) {\n        alert(err);\n      }\n    }, timeout);\n  };\n  const updateDescription = async e => {\n    clearTimeout(timer);\n    const newDescription = e.target.value;\n    setDescription(newDescription);\n    timer = setTimeout(async () => {\n      try {\n        await memoApi.update(memoId, {\n          description: newDescription\n        });\n      } catch (err) {\n        alert(err);\n      }\n    }, timeout);\n  };\n  const deleteMemo = async () => {\n    try {\n      const deletedMemo = await memoApi.delete(memoId);\n      const mewMemos = memos.filter(e => e._id !== deletedMemo._id);\n      if (mewMemos.length === 0) {\n        Navigate;\n      }\n      dispatch(setMemo(mewMemos));\n    } catch (err) {}\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        children: /*#__PURE__*/_jsxDEV(StarBorderOutlinedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        variant: \"outlined\",\n        color: \"error\",\n        onClick: deleteMemo,\n        children: /*#__PURE__*/_jsxDEV(DeleteOutlinedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          padding: \"10px 50px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          onChange: updateTitle,\n          value: title,\n          placeholder: \"\\u7121\\u984C\",\n          variant: \"outlined\",\n          fullWidth: true,\n          sx: {\n            \".MuiOutlinedInput-input\": {\n              padding: 0\n            },\n            \".MuiOutlinedInput-notchedOutline\": {\n              border: \"none\"\n            },\n            \".MuiOutlinedInput-input\": {\n              fontSize: \"2.0rem\",\n              fontWeight: \"700\"\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          onChange: updateDescription,\n          value: description,\n          placeholder: \"\\u8FFD\\u52A0\",\n          variant: \"outlined\",\n          fullWidth: true,\n          sx: {\n            \".MuiOutlinedInput-input\": {\n              padding: 0\n            },\n            \".MuiOutlinedInput-notchedOutline\": {\n              border: \"none\"\n            },\n            \".MuiOutlinedInput-input\": {\n              fontSize: \"1.0rem\"\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(Memo, \"5hpgRMOdvOxEDPTUE/PgS3TW0rs=\", false, function () {\n  return [useParams, useNavigate, useDispatch, useSelector];\n});\n_c = Memo;\nexport default Memo;\nvar _c;\n$RefreshReg$(_c, \"Memo\");","map":{"version":3,"names":["Box","IconButton","TextField","alpha","React","useEffect","useState","StarBorderOutlinedIcon","DeleteOutlinedIcon","useNavigate","useParams","memoApi","useDispatch","useSelector","setMemo","jsxDEV","_jsxDEV","Fragment","_Fragment","Memo","_s","memoId","title","setTitle","description","setDescription","navigate","dispatch","memos","state","memo","value","getMemo","res","getOne","err","alert","timer","timeout","updateTitle","e","clearTimeout","newTitle","target","setTimeout","update","updateDescription","newDescription","deleteMemo","deletedMemo","delete","mewMemos","filter","_id","length","Navigate","children","sx","display","alignItems","width","fileName","_jsxFileName","lineNumber","columnNumber","variant","color","onClick","padding","onChange","placeholder","fullWidth","border","fontSize","fontWeight","_c","$RefreshReg$"],"sources":["/Users/yusei/Desktop/dev/reactProject/notion-clone/client/src/pages/Memo.jsx"],"sourcesContent":["import { Box, IconButton, TextField, alpha } from '@mui/material'\nimport React, { useEffect, useState } from 'react'\nimport StarBorderOutlinedIcon from \"@mui/icons-material/StarBorderOutlined\"\nimport DeleteOutlinedIcon from \"@mui/icons-material/DeleteOutlined\"\nimport { useNavigate, useParams } from 'react-router-dom';\nimport memoApi from '../api/memoApi';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setMemo } from '../redux/features/memoSlice';\n\nfunction Memo() {\n\n    const { memoId } = useParams();\n    const [title, setTitle] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n    const memos = useSelector((state) => state.memo.value);\n\n    useEffect(() => {\n        const getMemo = async () => {\n            try {\n                const res = await memoApi.getOne(memoId);\n                setTitle(res.title);\n                setDescription(res.description)\n            } catch (err) {\n                alert(err);\n            }\n        }\n        getMemo();\n    }, [memoId])\n\n    let timer;\n    const timeout = 500;\n\n    const updateTitle = async (e) => {\n        clearTimeout(timer);\n        const newTitle = e.target.value;\n        setTitle(newTitle);\n\n        timer = setTimeout(async () => {\n            try {\n                await memoApi.update(memoId, { title: newTitle })\n            } catch (err) {\n                alert(err);\n            }\n        }, timeout)\n    }\n\n    const updateDescription = async (e) => {\n        clearTimeout(timer);\n        const newDescription = e.target.value;\n        setDescription(newDescription);\n\n        timer = setTimeout(async () => {\n            try {\n                await memoApi.update(memoId, { description: newDescription })\n            } catch (err) {\n                alert(err);\n            }\n        }, timeout)\n    }\n\n    const deleteMemo = async () => {\n        try {\n            const deletedMemo = await memoApi.delete(memoId);\n\n            const mewMemos = memos.filter((e) => e._id !== deletedMemo._id);\n            if (mewMemos.length === 0) {\n                Navigate\n            }\n            dispatch(setMemo(mewMemos));\n        } catch (err) {\n\n        }\n    }\n\n    return (\n        <>\n            <Box sx={{\n                display: \"flex\",\n                alignItems: \"center\",\n                width: \"100%\",\n            }}>\n                <IconButton>\n                    <StarBorderOutlinedIcon />\n                </IconButton>\n                <IconButton variant=\"outlined\" color='error' onClick={deleteMemo}>\n                    <DeleteOutlinedIcon />\n                </IconButton>\n                <Box sx={{ padding: \"10px 50px\" }}>\n                    <TextField\n                        onChange={updateTitle}\n                        value={title}\n                        placeholder='無題' variant='outlined' fullWidth\n                        sx={{\n                            \".MuiOutlinedInput-input\": { padding: 0 },\n                            \".MuiOutlinedInput-notchedOutline\": { border: \"none\" },\n                            \".MuiOutlinedInput-input\": { fontSize: \"2.0rem\", fontWeight: \"700\" }\n                        }}\n                    />\n                    <TextField\n                        onChange={updateDescription}\n                        value={description}\n                        placeholder='追加' variant='outlined' fullWidth\n                        sx={{\n                            \".MuiOutlinedInput-input\": { padding: 0 },\n                            \".MuiOutlinedInput-notchedOutline\": { border: \"none\" },\n                            \".MuiOutlinedInput-input\": { fontSize: \"1.0rem\", }\n                        }}\n                    />\n                </Box>\n            </Box>\n        </>\n    )\n}\n\nexport default Memo"],"mappings":";;AAAA,SAASA,GAAG,EAAEC,UAAU,EAAEC,SAAS,EAAEC,KAAK,QAAQ,eAAe;AACjE,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,sBAAsB,MAAM,wCAAwC;AAC3E,OAAOC,kBAAkB,MAAM,oCAAoC;AACnE,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AACzD,OAAOC,OAAO,MAAM,gBAAgB;AACpC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,OAAO,QAAQ,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEtD,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAEZ,MAAM;IAAEC;EAAO,CAAC,GAAGX,SAAS,CAAC,CAAC;EAC9B,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACkB,WAAW,EAAEC,cAAc,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAMoB,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAC9B,MAAMkB,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAC9B,MAAMgB,KAAK,GAAGf,WAAW,CAAEgB,KAAK,IAAKA,KAAK,CAACC,IAAI,CAACC,KAAK,CAAC;EAEtD1B,SAAS,CAAC,MAAM;IACZ,MAAM2B,OAAO,GAAG,MAAAA,CAAA,KAAY;MACxB,IAAI;QACA,MAAMC,GAAG,GAAG,MAAMtB,OAAO,CAACuB,MAAM,CAACb,MAAM,CAAC;QACxCE,QAAQ,CAACU,GAAG,CAACX,KAAK,CAAC;QACnBG,cAAc,CAACQ,GAAG,CAACT,WAAW,CAAC;MACnC,CAAC,CAAC,OAAOW,GAAG,EAAE;QACVC,KAAK,CAACD,GAAG,CAAC;MACd;IACJ,CAAC;IACDH,OAAO,CAAC,CAAC;EACb,CAAC,EAAE,CAACX,MAAM,CAAC,CAAC;EAEZ,IAAIgB,KAAK;EACT,MAAMC,OAAO,GAAG,GAAG;EAEnB,MAAMC,WAAW,GAAG,MAAOC,CAAC,IAAK;IAC7BC,YAAY,CAACJ,KAAK,CAAC;IACnB,MAAMK,QAAQ,GAAGF,CAAC,CAACG,MAAM,CAACZ,KAAK;IAC/BR,QAAQ,CAACmB,QAAQ,CAAC;IAElBL,KAAK,GAAGO,UAAU,CAAC,YAAY;MAC3B,IAAI;QACA,MAAMjC,OAAO,CAACkC,MAAM,CAACxB,MAAM,EAAE;UAAEC,KAAK,EAAEoB;QAAS,CAAC,CAAC;MACrD,CAAC,CAAC,OAAOP,GAAG,EAAE;QACVC,KAAK,CAACD,GAAG,CAAC;MACd;IACJ,CAAC,EAAEG,OAAO,CAAC;EACf,CAAC;EAED,MAAMQ,iBAAiB,GAAG,MAAON,CAAC,IAAK;IACnCC,YAAY,CAACJ,KAAK,CAAC;IACnB,MAAMU,cAAc,GAAGP,CAAC,CAACG,MAAM,CAACZ,KAAK;IACrCN,cAAc,CAACsB,cAAc,CAAC;IAE9BV,KAAK,GAAGO,UAAU,CAAC,YAAY;MAC3B,IAAI;QACA,MAAMjC,OAAO,CAACkC,MAAM,CAACxB,MAAM,EAAE;UAAEG,WAAW,EAAEuB;QAAe,CAAC,CAAC;MACjE,CAAC,CAAC,OAAOZ,GAAG,EAAE;QACVC,KAAK,CAACD,GAAG,CAAC;MACd;IACJ,CAAC,EAAEG,OAAO,CAAC;EACf,CAAC;EAED,MAAMU,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAI;MACA,MAAMC,WAAW,GAAG,MAAMtC,OAAO,CAACuC,MAAM,CAAC7B,MAAM,CAAC;MAEhD,MAAM8B,QAAQ,GAAGvB,KAAK,CAACwB,MAAM,CAAEZ,CAAC,IAAKA,CAAC,CAACa,GAAG,KAAKJ,WAAW,CAACI,GAAG,CAAC;MAC/D,IAAIF,QAAQ,CAACG,MAAM,KAAK,CAAC,EAAE;QACvBC,QAAQ;MACZ;MACA5B,QAAQ,CAACb,OAAO,CAACqC,QAAQ,CAAC,CAAC;IAC/B,CAAC,CAAC,OAAOhB,GAAG,EAAE,CAEd;EACJ,CAAC;EAED,oBACInB,OAAA,CAAAE,SAAA;IAAAsC,QAAA,eACIxC,OAAA,CAAChB,GAAG;MAACyD,EAAE,EAAE;QACLC,OAAO,EAAE,MAAM;QACfC,UAAU,EAAE,QAAQ;QACpBC,KAAK,EAAE;MACX,CAAE;MAAAJ,QAAA,gBACExC,OAAA,CAACf,UAAU;QAAAuD,QAAA,eACPxC,OAAA,CAACT,sBAAsB;UAAAsD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClB,CAAC,eACbhD,OAAA,CAACf,UAAU;QAACgE,OAAO,EAAC,UAAU;QAACC,KAAK,EAAC,OAAO;QAACC,OAAO,EAAEnB,UAAW;QAAAQ,QAAA,eAC7DxC,OAAA,CAACR,kBAAkB;UAAAqD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACd,CAAC,eACbhD,OAAA,CAAChB,GAAG;QAACyD,EAAE,EAAE;UAAEW,OAAO,EAAE;QAAY,CAAE;QAAAZ,QAAA,gBAC9BxC,OAAA,CAACd,SAAS;UACNmE,QAAQ,EAAE9B,WAAY;UACtBR,KAAK,EAAET,KAAM;UACbgD,WAAW,EAAC,cAAI;UAACL,OAAO,EAAC,UAAU;UAACM,SAAS;UAC7Cd,EAAE,EAAE;YACA,yBAAyB,EAAE;cAAEW,OAAO,EAAE;YAAE,CAAC;YACzC,kCAAkC,EAAE;cAAEI,MAAM,EAAE;YAAO,CAAC;YACtD,yBAAyB,EAAE;cAAEC,QAAQ,EAAE,QAAQ;cAAEC,UAAU,EAAE;YAAM;UACvE;QAAE;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eACFhD,OAAA,CAACd,SAAS;UACNmE,QAAQ,EAAEvB,iBAAkB;UAC5Bf,KAAK,EAAEP,WAAY;UACnB8C,WAAW,EAAC,cAAI;UAACL,OAAO,EAAC,UAAU;UAACM,SAAS;UAC7Cd,EAAE,EAAE;YACA,yBAAyB,EAAE;cAAEW,OAAO,EAAE;YAAE,CAAC;YACzC,kCAAkC,EAAE;cAAEI,MAAM,EAAE;YAAO,CAAC;YACtD,yBAAyB,EAAE;cAAEC,QAAQ,EAAE;YAAU;UACrD;QAAE;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC,gBACR,CAAC;AAEX;AAAC5C,EAAA,CAzGQD,IAAI;EAAA,QAEUT,SAAS,EAGXD,WAAW,EACXG,WAAW,EACdC,WAAW;AAAA;AAAA8D,EAAA,GAPpBxD,IAAI;AA2Gb,eAAeA,IAAI;AAAA,IAAAwD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}